2025-02-02 13:43:37,272 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:43:37,461 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
2025-02-02 13:43:37,475 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:43:37,517 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:446)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:371)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1083)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 41 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 45 common frames omitted
2025-02-02 13:43:37,525 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:446)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:371)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1083)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 41 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 45 common frames omitted
2025-02-02 13:44:44,384 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:44:44,581 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
2025-02-02 13:44:44,596 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:44:44,632 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:446)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:371)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1083)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 41 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 45 common frames omitted
2025-02-02 13:44:44,641 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:446)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:371)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1083)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 41 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 45 common frames omitted
2025-02-02 13:46:00,608 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:46:00,800 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
2025-02-02 13:46:00,815 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:46:00,860 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:446)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:371)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1083)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 41 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 45 common frames omitted
2025-02-02 13:46:00,905 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'configurationPropertiesBeans' defined in class path resource [org/springframework/cloud/autoconfigure/ConfigurationPropertiesRebinderAutoConfiguration.class]: Post-processing of merged bean definition failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:575)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.builder.SpringApplicationBuilder.run(SpringApplicationBuilder.java:150)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.bootstrapServiceContext(BootstrapApplicationListener.java:212)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:117)
	at org.springframework.cloud.bootstrap.BootstrapApplicationListener.onApplicationEvent(BootstrapApplicationListener.java:74)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:172)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:165)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.environmentPrepared(EventPublishingRunListener.java:81)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$environmentPrepared$2(SpringApplicationRunListeners.java:64)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.environmentPrepared(SpringApplicationRunListeners.java:63)
	at org.springframework.boot.SpringApplication.prepareEnvironment(SpringApplication.java:356)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.cloud.context.properties.ConfigurationPropertiesBeans] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee]
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483)
	at org.springframework.util.ReflectionUtils.doWithLocalMethods(ReflectionUtils.java:320)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.buildPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:446)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:417)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findInjectionMetadata(PersistenceAnnotationBeanPostProcessor.java:371)
	at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:353)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:1083)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:572)
	... 34 common frames omitted
Caused by: java.lang.NoClassDefFoundError: org/springframework/boot/context/properties/ConfigurationBeanFactoryMetadata
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557)
	at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465)
	... 41 common frames omitted
Caused by: java.lang.ClassNotFoundException: org.springframework.boot.context.properties.ConfigurationBeanFactoryMetadata
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)
	... 45 common frames omitted
2025-02-02 13:47:38,471 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 10928 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:47:38,482 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:47:38,630 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:47:38,652 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:47:39,640 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:47:39,642 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:47:39,817 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:47:39,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 193 ms. Found 1 JPA repository interfaces.
2025-02-02 13:47:39,872 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:47:39,875 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:47:39,903 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:47:39,916 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 27 ms. Found 1 Redis repository interfaces.
2025-02-02 13:47:40,320 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:47:41,139 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:47:41,168 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:47:41,173 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:47:41,174 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:47:41,286 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:47:41,316 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2654 ms
2025-02-02 13:47:42,004 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:47:42,027 ERROR c.z.h.HikariConfig [restartedMain] Failed to load driver class org.postgresql.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee
2025-02-02 13:47:42,033 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
2025-02-02 13:47:42,048 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:47:42,065 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:47:42,098 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 38 common frames omitted
Caused by: java.lang.RuntimeException: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:488)
	at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:479)
	at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:373)
	at org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:183)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:59)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 39 common frames omitted
2025-02-02 13:48:44,090 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 9028 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:48:44,105 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:48:44,168 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:48:44,169 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:48:45,161 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:48:45,163 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:48:45,321 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:48:45,378 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 204 ms. Found 1 JPA repository interfaces.
2025-02-02 13:48:45,406 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:48:45,409 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:48:45,438 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:48:45,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 26 ms. Found 1 Redis repository interfaces.
2025-02-02 13:48:45,850 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:48:46,659 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:48:46,691 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:48:46,703 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:48:46,711 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:48:46,819 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:48:46,825 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2649 ms
2025-02-02 13:48:47,430 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:48:47,455 ERROR c.z.h.HikariConfig [restartedMain] Failed to load driver class org.postgresql.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@4b1210ee
2025-02-02 13:48:47,459 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
2025-02-02 13:48:47,474 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:48:47,491 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:48:47,523 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 38 common frames omitted
Caused by: java.lang.RuntimeException: Failed to load driver class org.postgresql.Driver in either of HikariConfig class loader or Thread context classloader
	at com.zaxxer.hikari.HikariConfig.setDriverClassName(HikariConfig.java:488)
	at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperty.set(DataSourceBuilder.java:479)
	at org.springframework.boot.jdbc.DataSourceBuilder$MappedDataSourceProperties.set(DataSourceBuilder.java:373)
	at org.springframework.boot.jdbc.DataSourceBuilder.build(DataSourceBuilder.java:183)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:59)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 39 common frames omitted
2025-02-02 13:51:47,704 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 4452 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:51:47,714 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:51:47,778 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:51:47,779 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:51:49,003 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:51:49,006 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:51:49,215 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:51:49,252 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 234 ms. Found 1 JPA repository interfaces.
2025-02-02 13:51:49,283 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:51:49,288 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:51:49,318 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:51:49,334 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 32 ms. Found 1 Redis repository interfaces.
2025-02-02 13:51:49,888 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:51:51,299 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:51:51,308 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:51:51,313 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:51:51,313 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:51:51,575 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:51:51,578 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 3793 ms
2025-02-02 13:51:52,355 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:51:52,520 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 13:51:52,594 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.6.Final
2025-02-02 13:51:52,597 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2025-02-02 13:51:52,804 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:51:52,979 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 13:51:53,027 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 13:51:53,397 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1ebb0836
2025-02-02 13:51:53,400 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 13:51:53,645 ERROR o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Failed to initialize JPA EntityManagerFactory: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:51:53,646 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:51:53,648 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2025-02-02 13:51:53,748 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2025-02-02 13:51:53,812 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:51:53,830 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:51:54,052 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:279)
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:215)
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
2025-02-02 13:52:20,206 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 20320 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:52:20,217 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:52:20,278 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:52:20,279 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:52:21,323 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:52:21,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:52:21,480 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:52:21,512 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 176 ms. Found 1 JPA repository interfaces.
2025-02-02 13:52:21,538 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:52:21,541 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:52:21,563 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:52:21,575 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 22 ms. Found 1 Redis repository interfaces.
2025-02-02 13:52:21,984 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:52:22,858 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:52:22,870 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:52:22,873 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:52:22,876 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:52:22,975 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:52:22,979 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2693 ms
2025-02-02 13:52:23,682 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:52:23,832 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 13:52:23,993 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.6.Final
2025-02-02 13:52:23,997 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2025-02-02 13:52:24,289 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:52:24,591 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 13:52:24,626 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 13:52:24,976 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2a5b554
2025-02-02 13:52:24,986 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 13:52:25,455 ERROR o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Failed to initialize JPA EntityManagerFactory: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:52:25,460 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:52:25,461 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2025-02-02 13:52:25,624 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2025-02-02 13:52:25,843 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:52:25,863 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:52:25,930 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:279)
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:215)
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
2025-02-02 13:52:58,702 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 17764 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:52:58,713 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:52:58,775 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:52:58,790 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:52:59,998 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:53:00,022 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:53:00,241 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:53:00,269 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 232 ms. Found 1 JPA repository interfaces.
2025-02-02 13:53:00,302 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:53:00,309 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:53:00,337 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:53:00,357 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 33 ms. Found 1 Redis repository interfaces.
2025-02-02 13:53:00,819 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:53:01,770 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:53:01,805 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:53:01,813 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:53:01,817 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:53:01,922 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:53:01,925 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 3131 ms
2025-02-02 13:53:02,575 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:53:02,716 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 13:53:02,781 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.6.Final
2025-02-02 13:53:02,787 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2025-02-02 13:53:02,984 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:53:03,137 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 13:53:03,158 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 13:53:03,351 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@44d15a04
2025-02-02 13:53:03,354 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 13:53:03,595 ERROR o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Failed to initialize JPA EntityManagerFactory: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:53:03,606 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:53:03,608 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2025-02-02 13:53:03,624 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2025-02-02 13:53:03,640 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:53:03,655 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:53:03,680 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:279)
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:215)
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
2025-02-02 13:53:59,708 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 1316 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:53:59,719 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:53:59,775 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:53:59,776 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:54:00,808 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:54:00,811 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:54:00,990 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:54:01,020 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 196 ms. Found 1 JPA repository interfaces.
2025-02-02 13:54:01,044 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:54:01,048 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:54:01,075 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:54:01,087 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 26 ms. Found 1 Redis repository interfaces.
2025-02-02 13:54:01,515 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:54:02,623 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:54:02,634 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:54:02,669 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:54:02,671 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:54:02,812 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:54:02,816 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 3033 ms
2025-02-02 13:54:03,699 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:54:03,857 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 13:54:03,942 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.6.Final
2025-02-02 13:54:03,946 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2025-02-02 13:54:04,156 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:54:04,449 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 13:54:04,491 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 13:54:04,802 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3c756af2
2025-02-02 13:54:04,806 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 13:54:05,062 ERROR o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Failed to initialize JPA EntityManagerFactory: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:54:05,063 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:54:05,066 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2025-02-02 13:54:05,177 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2025-02-02 13:54:05,288 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:54:05,305 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:54:05,332 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:279)
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:215)
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
2025-02-02 13:54:54,816 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 15016 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:54:54,825 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:54:55,044 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:54:55,054 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:54:56,503 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:54:56,506 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:54:56,661 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:54:56,693 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 175 ms. Found 1 JPA repository interfaces.
2025-02-02 13:54:56,717 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:54:56,720 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:54:56,746 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:54:56,757 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 23 ms. Found 1 Redis repository interfaces.
2025-02-02 13:54:57,151 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:54:57,926 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:54:57,959 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:54:57,968 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:54:57,972 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:54:58,079 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:54:58,082 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 3024 ms
2025-02-02 13:54:58,713 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:54:58,857 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 13:54:58,922 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.6.Final
2025-02-02 13:54:58,927 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2025-02-02 13:54:59,103 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:54:59,263 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 13:54:59,287 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 13:54:59,496 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@efaba5b
2025-02-02 13:54:59,499 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 13:54:59,716 ERROR o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Failed to initialize JPA EntityManagerFactory: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:54:59,717 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
2025-02-02 13:54:59,722 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown initiated...
2025-02-02 13:54:59,817 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Shutdown completed.
2025-02-02 13:54:59,862 INFO o.a.j.l.DirectJDKLog [restartedMain] Stopping service [Tomcat]
2025-02-02 13:54:59,879 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 13:54:59,912 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.hibernate.AnnotationException: Entity 'com.mobily.loyalty.service.model.AuditLog' has no identifier (every '@Entity' class must declare or inherit at least one '@Id' or '@EmbeddedId' property)
	at org.hibernate.boot.model.internal.InheritanceState.determineDefaultAccessType(InheritanceState.java:279)
	at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:215)
	at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160)
	at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293)
	at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228)
	at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417)
	at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 19 common frames omitted
2025-02-02 13:55:36,055 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 13:55:36,067 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 13:55:36,137 INFO o.s.b.l.DeferredLog [restartedMain] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-02-02 13:55:36,137 INFO o.s.b.l.DeferredLog [restartedMain] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-02-02 13:55:37,139 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:55:37,142 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 13:55:37,342 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 13:55:37,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 216 ms. Found 1 JPA repository interfaces.
2025-02-02 13:55:37,396 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 13:55:37,399 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 13:55:37,419 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 13:55:37,430 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 19 ms. Found 1 Redis repository interfaces.
2025-02-02 13:55:37,818 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 13:55:38,606 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 13:55:38,614 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 13:55:38,620 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 13:55:38,621 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 13:55:38,718 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 13:55:38,721 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 2579 ms
2025-02-02 13:55:39,330 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 13:55:39,479 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 13:55:39,546 INFO o.h.Version [restartedMain] HHH000412: Hibernate ORM core version 6.2.6.Final
2025-02-02 13:55:39,551 INFO o.h.c.Environment [restartedMain] HHH000406: Using bytecode reflection optimizer
2025-02-02 13:55:39,727 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:55:39,879 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 13:55:39,900 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Starting...
2025-02-02 13:55:40,124 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1ebb0836
2025-02-02 13:55:40,127 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-1 - Start completed.
2025-02-02 13:55:40,465 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 13:55:41,334 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 13:55:41,369 WARN o.h.e.j.s.SqlExceptionHelper$StandardWarningHandler [restartedMain] SQL Warning Code: 0, SQLState: 00000
2025-02-02 13:55:41,370 WARN o.h.e.j.s.SqlExceptionHelper$StandardWarningHandler [restartedMain] table "audit_logs" does not exist, skipping
2025-02-02 13:55:41,473 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 13:55:41,511 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 13:55:41,514 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 13:55:41,900 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 13:55:42,004 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 13:55:42,338 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@29dd2ba3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6326950, org.springframework.security.web.context.SecurityContextHolderFilter@568096d9, org.springframework.security.web.header.HeaderWriterFilter@5c443e2, org.springframework.security.web.authentication.logout.LogoutFilter@71303122, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6674a562, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3287c8b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@655e658b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45ae9341, org.springframework.security.web.session.SessionManagementFilter@e4260f0, org.springframework.security.web.access.ExceptionTranslationFilter@3d280a35, org.springframework.security.web.access.intercept.AuthorizationFilter@79397b92]
2025-02-02 13:55:42,742 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 13:55:42,778 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 13:55:42,792 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 7.511 seconds (process running for 8.652)
2025-02-02 13:55:42,797 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 13:55:42,803 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:00:53,844 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:00:53,845 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:00:53,850 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 2 ms
2025-02-02 14:00:53,890 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Request Received withour CORRELATION ID, set to 7f580a2c-130f-460d-b343-c4f6375c0dc1
2025-02-02 14:00:54,058 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-2] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@67b48dc9
2025-02-02 14:00:54,076 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  About to query for Loyalty Information from Data Power service 7f580a2c-130f-460d-b343-c4f6375c0dc1
2025-02-02 14:00:54,102 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-2] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:00:54,211 WARN c.n.s.UnknownKeywordFactory [http-nio-8081-exec-2] Unknown keyword $defs - you should define your own Meta Schema. If the keyword is irrelevant for validation, just use a NonValidationKeyword or if it should generate annotations AnnotationKeyword
2025-02-02 14:00:54,225 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:00:54,296 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to b5b125cc-4018-48ce-8f39-2eb2495801e9
2025-02-02 14:00:54,305 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:00:54.224","language":"en"}
2025-02-02 14:00:54,322 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:00:54,329 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-2] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:00:54,346 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Returning the response  
2025-02-02 14:01:52,572 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:01:52,599 INFO o.a.j.l.DirectJDKLog [Thread-4] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:01:52,601 INFO o.a.j.l.DirectJDKLog [Thread-4] Stopping service [Tomcat]
2025-02-02 14:01:52,604 INFO o.a.j.l.DirectJDKLog [Thread-4] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:01:52,607 WARN o.a.j.l.DirectJDKLog [Thread-4] The web application [ROOT] appears to have started a thread named [lettuce-timer-3-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:01:52,609 INFO o.a.j.l.DirectJDKLog [Thread-4] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:01:52,615 INFO o.a.j.l.DirectJDKLog [Thread-4] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:01:52,620 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-4] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:01:52,624 INFO c.z.h.HikariDataSource [Thread-4] HikariPool-1 - Shutdown initiated...
2025-02-02 14:01:52,633 INFO c.z.h.HikariDataSource [Thread-4] HikariPool-1 - Shutdown completed.
2025-02-02 14:01:52,788 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:01:52,854 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:01:52,855 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:01:53,215 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:01:53,216 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:01:53,231 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:01:53,239 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 22 ms. Found 1 JPA repository interfaces.
2025-02-02 14:01:53,248 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:01:53,248 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:01:53,254 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:01:53,265 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 15 ms. Found 1 Redis repository interfaces.
2025-02-02 14:01:53,435 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 14:01:53,440 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectingArgumentResolverBeanPostProcessor' defined in class path resource [org/springframework/data/web/config/ProjectingArgumentResolverRegistrar.class]: BeanPostProcessor before instantiation of bean failed
2025-02-02 14:01:53,447 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 14:01:53,476 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectingArgumentResolverBeanPostProcessor' defined in class path resource [org/springframework/data/web/config/ProjectingArgumentResolverRegistrar.class]: BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1127)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:509)
	... 17 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': Pointcut is not well-formed: expecting 'name pattern' at character position 51
execution(*com.mobily.loyalty.service.services.*.*(..)) && args(username,..)
                                                   ^

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1127)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:509)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: Pointcut is not well-formed: expecting 'name pattern' at character position 51
execution(*com.mobily.loyalty.service.services.*.*(..)) && args(username,..)
                                                   ^

	at org.aspectj.weaver.tools.PointcutParser.resolvePointcutExpression(PointcutParser.java:334)
	at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:312)
	at org.springframework.aop.aspectj.AspectJExpressionPointcut.buildPointcutExpression(AspectJExpressionPointcut.java:222)
	at org.springframework.aop.aspectj.AspectJExpressionPointcut.obtainPointcutExpression(AspectJExpressionPointcut.java:193)
	at org.springframework.aop.aspectj.AspectJExpressionPointcut.getClassFilter(AspectJExpressionPointcut.java:172)
	at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:226)
	at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:288)
	at org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply(AopUtils.java:320)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findAdvisorsThatCanApply(AbstractAdvisorAutoProxyCreator.java:128)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findEligibleAdvisors(AbstractAdvisorAutoProxyCreator.java:97)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.getAdvicesAndAdvisorsForBean(AbstractAdvisorAutoProxyCreator.java:78)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:366)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	... 72 common frames omitted
2025-02-02 14:02:13,550 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:02:13,656 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:02:13,657 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:02:13,884 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:02:13,888 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:02:13,900 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:02:13,907 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:02:13,912 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:02:13,913 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:02:13,924 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:02:13,930 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 14 ms. Found 1 Redis repository interfaces.
2025-02-02 14:02:14,005 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 14:02:14,125 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:02:14,128 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:02:14,132 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:02:14,134 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:02:14,171 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:02:14,172 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 507 ms
2025-02-02 14:02:14,342 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:02:14,404 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:02:14,415 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:02:14,416 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:02:14,420 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-2 - Starting...
2025-02-02 14:02:14,490 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1f1b5093
2025-02-02 14:02:14,491 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-2 - Start completed.
2025-02-02 14:02:14,512 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:02:14,548 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:02:14,583 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:02:14,605 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:02:14,607 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:02:14,805 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:02:14,852 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:02:15,073 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35a7208e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77c6fdb9, org.springframework.security.web.context.SecurityContextHolderFilter@53faa412, org.springframework.security.web.header.HeaderWriterFilter@682e8639, org.springframework.security.web.authentication.logout.LogoutFilter@52bc0c70, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7ca738b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d1787d3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1194d706, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ce960b8, org.springframework.security.web.session.SessionManagementFilter@71d69cf2, org.springframework.security.web.access.ExceptionTranslationFilter@4b62ba24, org.springframework.security.web.access.intercept.AuthorizationFilter@543fe76e]
2025-02-02 14:02:15,293 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:02:15,299 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:02:15,307 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.717 seconds (process running for 401.167)
2025-02-02 14:02:15,311 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:02:15,312 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:02:15,313 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:02:25,723 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:02:25,724 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:02:25,731 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 3 ms
2025-02-02 14:02:25,732 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 0d2eb2a9-37ac-48df-b366-934434de5290
2025-02-02 14:02:25,745 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@77afa537
2025-02-02 14:02:25,751 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service 0d2eb2a9-37ac-48df-b366-934434de5290
2025-02-02 14:02:25,762 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:02:25,777 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:02:25,782 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to 273b5471-6487-4cae-a09d-b2fae340fec5
2025-02-02 14:02:25,817 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:02:25.776","language":"en"}
2025-02-02 14:02:25,825 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:02:25,827 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:02:25,848 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:03:02,043 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:03:02,073 INFO o.a.j.l.DirectJDKLog [Thread-7] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:02,075 INFO o.a.j.l.DirectJDKLog [Thread-7] Stopping service [Tomcat]
2025-02-02 14:03:02,076 INFO o.a.j.l.DirectJDKLog [Thread-7] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:03:02,079 WARN o.a.j.l.DirectJDKLog [Thread-7] The web application [ROOT] appears to have started a thread named [lettuce-timer-5-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:03:02,080 INFO o.a.j.l.DirectJDKLog [Thread-7] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:02,085 INFO o.a.j.l.DirectJDKLog [Thread-7] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:02,088 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-7] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:03:02,090 INFO c.z.h.HikariDataSource [Thread-7] HikariPool-2 - Shutdown initiated...
2025-02-02 14:03:02,097 INFO c.z.h.HikariDataSource [Thread-7] HikariPool-2 - Shutdown completed.
2025-02-02 14:03:02,240 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:03:02,319 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:03:02,320 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:03:02,795 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:03:02,795 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:03:02,809 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:03:02,814 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 18 ms. Found 1 JPA repository interfaces.
2025-02-02 14:03:02,821 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:03:02,821 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:03:02,825 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:03:02,830 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 8 ms. Found 1 Redis repository interfaces.
2025-02-02 14:03:02,956 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 14:03:03,064 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:03:03,065 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:03,065 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:03:03,065 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:03:03,106 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:03:03,106 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 782 ms
2025-02-02 14:03:03,285 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:03:03,334 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:03:03,348 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:03:03,349 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:03:03,350 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-3 - Starting...
2025-02-02 14:03:03,429 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@59956eab
2025-02-02 14:03:03,429 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-3 - Start completed.
2025-02-02 14:03:03,451 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:03:03,497 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:03:03,523 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:03:03,541 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:03:03,542 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:03:03,718 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:03:03,771 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:03:03,970 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ba4c77f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ca49575, org.springframework.security.web.context.SecurityContextHolderFilter@6c93767d, org.springframework.security.web.header.HeaderWriterFilter@198c7906, org.springframework.security.web.authentication.logout.LogoutFilter@bc715b1, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@787d2f5c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ba2b7bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@519caf87, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c6a0fb2, org.springframework.security.web.session.SessionManagementFilter@31a39054, org.springframework.security.web.access.ExceptionTranslationFilter@6c657269, org.springframework.security.web.access.intercept.AuthorizationFilter@1b23d9e]
2025-02-02 14:03:04,133 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:04,145 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:03:04,150 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.901 seconds (process running for 450.01)
2025-02-02 14:03:04,153 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:03:04,155 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:03:04,156 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:03:08,476 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:03:08,476 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:03:08,477 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 0 ms
2025-02-02 14:03:08,479 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to b2fde8e7-9511-4806-9976-e73c2e1204ef
2025-02-02 14:03:08,498 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@2232821
2025-02-02 14:03:08,503 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service b2fde8e7-9511-4806-9976-e73c2e1204ef
2025-02-02 14:03:08,509 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:03:08,514 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:03:08,524 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to e6c486bf-2c05-4bbd-9b7a-98cf3b0ed05b
2025-02-02 14:03:08,530 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:03:08.514","language":"en"}
2025-02-02 14:03:08,534 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:03:08,535 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:03:08,548 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:03:29,957 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:03:29,991 INFO o.a.j.l.DirectJDKLog [Thread-14] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:29,992 INFO o.a.j.l.DirectJDKLog [Thread-14] Stopping service [Tomcat]
2025-02-02 14:03:29,992 INFO o.a.j.l.DirectJDKLog [Thread-14] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:03:29,996 WARN o.a.j.l.DirectJDKLog [Thread-14] The web application [ROOT] appears to have started a thread named [lettuce-timer-7-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:03:29,997 INFO o.a.j.l.DirectJDKLog [Thread-14] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:30,003 INFO o.a.j.l.DirectJDKLog [Thread-14] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:30,004 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-14] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:03:30,008 INFO c.z.h.HikariDataSource [Thread-14] HikariPool-3 - Shutdown initiated...
2025-02-02 14:03:30,015 INFO c.z.h.HikariDataSource [Thread-14] HikariPool-3 - Shutdown completed.
2025-02-02 14:03:30,095 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:03:30,151 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:03:30,152 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:03:30,392 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:03:30,392 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:03:30,406 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:03:30,412 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:03:30,417 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:03:30,417 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:03:30,423 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:03:30,428 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 9 ms. Found 1 Redis repository interfaces.
2025-02-02 14:03:30,490 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [restartedMain] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: com.mobily.loyalty.service.services.AuditAspect
2025-02-02 14:03:30,578 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:03:30,579 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:30,581 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:03:30,582 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:03:30,616 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:03:30,617 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 463 ms
2025-02-02 14:03:30,746 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:03:30,790 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:03:30,799 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:03:30,799 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:03:30,802 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-4 - Starting...
2025-02-02 14:03:30,865 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@1d20bcb5
2025-02-02 14:03:30,865 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-4 - Start completed.
2025-02-02 14:03:30,882 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:03:30,902 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:03:30,928 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:03:30,943 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:03:30,946 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:03:31,088 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:03:31,143 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:03:31,300 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3bcdfe56, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31dbf05e, org.springframework.security.web.context.SecurityContextHolderFilter@4d480035, org.springframework.security.web.header.HeaderWriterFilter@25158a69, org.springframework.security.web.authentication.logout.LogoutFilter@648bb1c8, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@2711a21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@525423ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b1bad0f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10327f6c, org.springframework.security.web.session.SessionManagementFilter@65caf58d, org.springframework.security.web.access.ExceptionTranslationFilter@708de1cb, org.springframework.security.web.access.intercept.AuthorizationFilter@11c611d8]
2025-02-02 14:03:31,440 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:03:31,446 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:03:31,454 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.353 seconds (process running for 477.313)
2025-02-02 14:03:31,457 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:03:31,459 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:03:31,460 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:03:38,047 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:03:38,048 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:03:38,049 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 1 ms
2025-02-02 14:03:38,050 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Request Received withour CORRELATION ID, set to ac38d33d-6601-4e7a-ac24-746605e363f6
2025-02-02 14:03:38,065 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-2] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@74145679
2025-02-02 14:03:38,070 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  About to query for Loyalty Information from Data Power service ac38d33d-6601-4e7a-ac24-746605e363f6
2025-02-02 14:03:38,076 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-2] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:03:38,081 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:03:38,088 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to 2cb159c8-912d-4ef9-8467-bde822054be5
2025-02-02 14:03:38,096 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:03:38.080","language":"en"}
2025-02-02 14:03:38,115 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:03:38,116 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-2] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:03:38,126 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Returning the response  
2025-02-02 14:04:32,779 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:04:32,842 INFO o.a.j.l.DirectJDKLog [Thread-18] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:32,842 INFO o.a.j.l.DirectJDKLog [Thread-18] Stopping service [Tomcat]
2025-02-02 14:04:32,843 INFO o.a.j.l.DirectJDKLog [Thread-18] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:04:32,847 WARN o.a.j.l.DirectJDKLog [Thread-18] The web application [ROOT] appears to have started a thread named [lettuce-timer-9-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:04:32,847 INFO o.a.j.l.DirectJDKLog [Thread-18] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:32,851 INFO o.a.j.l.DirectJDKLog [Thread-18] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:32,852 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-18] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:04:32,854 INFO c.z.h.HikariDataSource [Thread-18] HikariPool-4 - Shutdown initiated...
2025-02-02 14:04:32,866 INFO c.z.h.HikariDataSource [Thread-18] HikariPool-4 - Shutdown completed.
2025-02-02 14:04:32,974 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:04:33,038 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:04:33,039 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:04:33,276 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:04:33,277 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:04:33,289 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:04:33,294 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:04:33,300 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:04:33,300 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:04:33,305 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:04:33,309 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 8 ms. Found 1 Redis repository interfaces.
2025-02-02 14:04:33,500 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:04:33,502 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:33,502 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:04:33,502 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:04:33,551 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:04:33,552 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 511 ms
2025-02-02 14:04:33,725 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:04:33,835 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:04:33,861 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:04:33,872 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:04:33,874 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-5 - Starting...
2025-02-02 14:04:33,955 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@6408ff3c
2025-02-02 14:04:33,956 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-5 - Start completed.
2025-02-02 14:04:33,976 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:04:33,994 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:04:34,016 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:04:34,031 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:04:34,032 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:04:34,224 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:04:34,281 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:04:34,507 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15ff73ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c1e9278, org.springframework.security.web.context.SecurityContextHolderFilter@279f5260, org.springframework.security.web.header.HeaderWriterFilter@6a335547, org.springframework.security.web.authentication.logout.LogoutFilter@7d399642, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@24c56ab6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66d92784, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1630df75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58dbd55c, org.springframework.security.web.session.SessionManagementFilter@2953e7b1, org.springframework.security.web.access.ExceptionTranslationFilter@62f47e61, org.springframework.security.web.access.intercept.AuthorizationFilter@4228dd2a]
2025-02-02 14:04:34,679 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:34,686 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:04:34,692 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.71 seconds (process running for 540.551)
2025-02-02 14:04:34,694 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:04:34,695 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:04:34,695 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:04:44,783 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:04:44,800 INFO o.a.j.l.DirectJDKLog [Thread-22] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:44,800 INFO o.a.j.l.DirectJDKLog [Thread-22] Stopping service [Tomcat]
2025-02-02 14:04:44,803 WARN o.a.j.l.DirectJDKLog [Thread-22] The web application [ROOT] appears to have started a thread named [lettuce-timer-11-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:04:44,804 INFO o.a.j.l.DirectJDKLog [Thread-22] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:44,807 INFO o.a.j.l.DirectJDKLog [Thread-22] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:44,808 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-22] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:04:44,808 INFO c.z.h.HikariDataSource [Thread-22] HikariPool-5 - Shutdown initiated...
2025-02-02 14:04:44,823 INFO c.z.h.HikariDataSource [Thread-22] HikariPool-5 - Shutdown completed.
2025-02-02 14:04:44,931 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:04:44,980 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:04:44,981 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:04:45,254 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:04:45,254 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:04:45,266 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:04:45,271 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:04:45,275 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:04:45,275 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:04:45,280 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:04:45,285 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 9 ms. Found 1 Redis repository interfaces.
2025-02-02 14:04:45,460 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:04:45,461 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:45,461 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:04:45,461 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:04:45,505 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:04:45,505 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 521 ms
2025-02-02 14:04:45,658 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:04:45,710 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:04:45,720 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:04:45,720 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:04:45,721 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-6 - Starting...
2025-02-02 14:04:45,811 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@b24bb8b
2025-02-02 14:04:45,812 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-6 - Start completed.
2025-02-02 14:04:45,834 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:04:45,863 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:04:45,959 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:04:45,972 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:04:45,973 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:04:46,122 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:04:46,160 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:04:46,369 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38940dff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b45dfcc, org.springframework.security.web.context.SecurityContextHolderFilter@7c33202d, org.springframework.security.web.header.HeaderWriterFilter@60d598bf, org.springframework.security.web.authentication.logout.LogoutFilter@49b18626, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7dd124d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26fb45db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6aa731db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ddf13da, org.springframework.security.web.session.SessionManagementFilter@5c935292, org.springframework.security.web.access.ExceptionTranslationFilter@4f52a818, org.springframework.security.web.access.intercept.AuthorizationFilter@66e211d7]
2025-02-02 14:04:46,545 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:04:46,559 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:04:46,565 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.629 seconds (process running for 552.425)
2025-02-02 14:04:46,567 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:04:46,569 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:04:46,570 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:04:56,337 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:04:56,337 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:04:56,340 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 1 ms
2025-02-02 14:04:56,346 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Request Received withour CORRELATION ID, set to 6d975a42-ae9f-4b21-a195-aebc8b434e77
2025-02-02 14:04:56,356 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-2] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@5205cbb5
2025-02-02 14:04:56,365 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  IN ASPECT J ==========================================================================================  >
2025-02-02 14:04:56,634 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  About to query for Loyalty Information from Data Power service 6d975a42-ae9f-4b21-a195-aebc8b434e77
2025-02-02 14:04:56,636 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  IN ASPECT J ==========================================================================================  >
2025-02-02 14:04:56,638 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-2] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:04:56,640 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:04:56,650 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to 606bed4d-6dbd-4c27-9211-ae14a5eb1d5f
2025-02-02 14:04:56,652 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:04:56.640","language":"en"}
2025-02-02 14:04:56,655 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:04:56,656 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  IN ASPECT J ==========================================================================================  >
2025-02-02 14:04:58,020 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-2] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:04:58,027 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Returning the response  
2025-02-02 14:07:39,057 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:07:39,121 INFO o.a.j.l.DirectJDKLog [Thread-26] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:07:39,121 INFO o.a.j.l.DirectJDKLog [Thread-26] Stopping service [Tomcat]
2025-02-02 14:07:39,122 INFO o.a.j.l.DirectJDKLog [Thread-26] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:07:39,130 WARN o.a.j.l.DirectJDKLog [Thread-26] The web application [ROOT] appears to have started a thread named [lettuce-timer-13-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:07:39,137 INFO o.a.j.l.DirectJDKLog [Thread-26] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:07:39,140 INFO o.a.j.l.DirectJDKLog [Thread-26] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:07:39,141 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-26] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:07:39,142 INFO c.z.h.HikariDataSource [Thread-26] HikariPool-6 - Shutdown initiated...
2025-02-02 14:07:39,157 INFO c.z.h.HikariDataSource [Thread-26] HikariPool-6 - Shutdown completed.
2025-02-02 14:07:39,318 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:07:39,434 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:07:39,435 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:07:39,761 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:07:39,761 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:07:39,790 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:07:39,795 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:07:39,801 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:07:39,802 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:07:39,807 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:07:39,812 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 9 ms. Found 1 Redis repository interfaces.
2025-02-02 14:07:40,005 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:07:40,005 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:07:40,006 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:07:40,006 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:07:40,040 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:07:40,041 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 604 ms
2025-02-02 14:07:40,290 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:07:40,361 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:07:40,369 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:07:40,371 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:07:40,372 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-7 - Starting...
2025-02-02 14:07:40,442 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-7 - Added connection org.postgresql.jdbc.PgConnection@275c51bb
2025-02-02 14:07:40,442 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-7 - Start completed.
2025-02-02 14:07:40,468 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:07:40,507 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:07:40,543 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:07:40,557 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:07:40,558 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:07:40,766 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:07:40,826 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:07:41,101 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5789be27, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b4879d7, org.springframework.security.web.context.SecurityContextHolderFilter@2957ce44, org.springframework.security.web.header.HeaderWriterFilter@6f560169, org.springframework.security.web.authentication.logout.LogoutFilter@19c87970, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@d505504, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d25363e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12273bba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@740c2177, org.springframework.security.web.session.SessionManagementFilter@7a9ccbb0, org.springframework.security.web.access.ExceptionTranslationFilter@390ba3ab, org.springframework.security.web.access.intercept.AuthorizationFilter@56e92657]
2025-02-02 14:07:41,320 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:07:41,328 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:07:41,332 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 2.008 seconds (process running for 727.192)
2025-02-02 14:07:41,336 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:07:41,336 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:07:41,337 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:08:27,120 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:08:27,161 INFO o.a.j.l.DirectJDKLog [Thread-30] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:08:27,161 INFO o.a.j.l.DirectJDKLog [Thread-30] Stopping service [Tomcat]
2025-02-02 14:08:27,165 WARN o.a.j.l.DirectJDKLog [Thread-30] The web application [ROOT] appears to have started a thread named [lettuce-timer-15-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:08:27,166 INFO o.a.j.l.DirectJDKLog [Thread-30] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:08:27,171 INFO o.a.j.l.DirectJDKLog [Thread-30] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:08:27,171 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-30] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:08:27,174 INFO c.z.h.HikariDataSource [Thread-30] HikariPool-7 - Shutdown initiated...
2025-02-02 14:08:27,181 INFO c.z.h.HikariDataSource [Thread-30] HikariPool-7 - Shutdown completed.
2025-02-02 14:08:27,301 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:08:27,341 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:08:27,342 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:08:27,593 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:08:27,593 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:08:27,607 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:08:27,611 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:08:27,617 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:08:27,617 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:08:27,621 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:08:27,625 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 8 ms. Found 1 Redis repository interfaces.
2025-02-02 14:08:27,739 WARN o.s.c.s.AbstractApplicationContext [restartedMain] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectingArgumentResolverBeanPostProcessor' defined in class path resource [org/springframework/data/web/config/ProjectingArgumentResolverRegistrar.class]: BeanPostProcessor before instantiation of bean failed
2025-02-02 14:08:27,745 INFO o.s.b.a.l.ConditionEvaluationReportLogger [restartedMain] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-02-02 14:08:27,761 ERROR o.s.b.SpringApplication [restartedMain] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'projectingArgumentResolverBeanPostProcessor' defined in class path resource [org/springframework/data/web/config/ProjectingArgumentResolverRegistrar.class]: BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:273)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:788)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:592)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at com.mobily.loyalty.service.LoyaltyServiceApp.main(LoyaltyServiceApp.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1127)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:509)
	... 17 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.config.annotation.method.configuration.GlobalMethodSecurityConfiguration': BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': warning no match for this type name: username [Xlint:invalidAbsoluteTypeName]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:605)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:417)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:111)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:101)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1127)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1102)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:509)
	... 50 common frames omitted
Caused by: java.lang.IllegalArgumentException: warning no match for this type name: username [Xlint:invalidAbsoluteTypeName]
	at org.aspectj.weaver.tools.PointcutParser.parsePointcutExpression(PointcutParser.java:319)
	at org.springframework.aop.aspectj.AspectJExpressionPointcut.buildPointcutExpression(AspectJExpressionPointcut.java:222)
	at org.springframework.aop.aspectj.AspectJExpressionPointcut.obtainPointcutExpression(AspectJExpressionPointcut.java:193)
	at org.springframework.aop.aspectj.AspectJExpressionPointcut.getClassFilter(AspectJExpressionPointcut.java:172)
	at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:226)
	at org.springframework.aop.support.AopUtils.canApply(AopUtils.java:288)
	at org.springframework.aop.support.AopUtils.findAdvisorsThatCanApply(AopUtils.java:320)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findAdvisorsThatCanApply(AbstractAdvisorAutoProxyCreator.java:128)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findEligibleAdvisors(AbstractAdvisorAutoProxyCreator.java:97)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.getAdvicesAndAdvisorsForBean(AbstractAdvisorAutoProxyCreator.java:78)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:366)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:318)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:434)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1773)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	... 72 common frames omitted
2025-02-02 14:08:54,706 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:08:54,774 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:08:54,776 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:08:55,040 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:08:55,040 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:08:55,052 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:08:55,057 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:08:55,061 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:08:55,061 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:08:55,067 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:08:55,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 10 ms. Found 1 Redis repository interfaces.
2025-02-02 14:08:55,228 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:08:55,229 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:08:55,230 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:08:55,230 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:08:55,292 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:08:55,292 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 494 ms
2025-02-02 14:08:55,426 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:08:55,494 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:08:55,511 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:08:55,512 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:08:55,513 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-8 - Starting...
2025-02-02 14:08:55,625 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-8 - Added connection org.postgresql.jdbc.PgConnection@cc033e
2025-02-02 14:08:55,625 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-8 - Start completed.
2025-02-02 14:08:55,647 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:08:55,683 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:08:55,710 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:08:55,726 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:08:55,727 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:08:55,863 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:08:55,909 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:08:56,119 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@740dc7d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bc879c8, org.springframework.security.web.context.SecurityContextHolderFilter@29c04b0f, org.springframework.security.web.header.HeaderWriterFilter@32de1373, org.springframework.security.web.authentication.logout.LogoutFilter@3ecb8b4d, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@167eb7b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37dba2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@417a64bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9f598e6, org.springframework.security.web.session.SessionManagementFilter@70949852, org.springframework.security.web.access.ExceptionTranslationFilter@4b0c3368, org.springframework.security.web.access.intercept.AuthorizationFilter@42441364]
2025-02-02 14:08:56,307 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:08:56,316 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:08:56,321 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.58 seconds (process running for 802.181)
2025-02-02 14:08:56,323 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:08:56,325 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:08:56,326 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:09:22,935 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:09:22,936 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:09:22,937 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:09:22,941 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 3bb3ec79-1d30-4676-970c-36602375358b
2025-02-02 14:09:22,947 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@3065990e
2025-02-02 14:09:22,953 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >
2025-02-02 14:09:22,983 ERROR o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.mobily.loyalty.service.model.AuditLog.resource] with root cause
org.hibernate.PropertyValueException: not-null property references a null or transient value : com.mobily.loyalty.service.model.AuditLog.resource
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:109)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:54)
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:124)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:69)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)
	at jdk.proxy11/jdk.proxy11.$Proxy184.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy11/jdk.proxy11.$Proxy184.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:617)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy11/jdk.proxy11.$Proxy186.save(Unknown Source)
	at com.mobily.loyalty.service.services.AuditAspect.logActivity(AuditAspect.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:10:17,341 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:10:17,393 INFO o.a.j.l.DirectJDKLog [Thread-34] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:10:17,393 INFO o.a.j.l.DirectJDKLog [Thread-34] Stopping service [Tomcat]
2025-02-02 14:10:17,394 INFO o.a.j.l.DirectJDKLog [Thread-34] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:10:17,396 WARN o.a.j.l.DirectJDKLog [Thread-34] The web application [ROOT] appears to have started a thread named [lettuce-timer-17-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:10:17,400 INFO o.a.j.l.DirectJDKLog [Thread-34] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:10:17,404 INFO o.a.j.l.DirectJDKLog [Thread-34] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:10:17,405 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-34] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:10:17,409 INFO c.z.h.HikariDataSource [Thread-34] HikariPool-8 - Shutdown initiated...
2025-02-02 14:10:17,416 INFO c.z.h.HikariDataSource [Thread-34] HikariPool-8 - Shutdown completed.
2025-02-02 14:10:17,530 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:10:17,570 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:10:17,570 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:10:17,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:10:17,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:10:17,782 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:10:17,788 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interfaces.
2025-02-02 14:10:17,795 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:10:17,795 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:10:17,800 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:10:17,805 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 9 ms. Found 1 Redis repository interfaces.
2025-02-02 14:10:18,010 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:10:18,011 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:10:18,011 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:10:18,012 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:10:18,046 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:10:18,046 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 472 ms
2025-02-02 14:10:18,188 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:10:18,235 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:10:18,243 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:10:18,243 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:10:18,244 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-9 - Starting...
2025-02-02 14:10:18,331 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-9 - Added connection org.postgresql.jdbc.PgConnection@5ce9bb04
2025-02-02 14:10:18,331 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-9 - Start completed.
2025-02-02 14:10:18,347 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:10:18,363 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:10:18,385 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:10:18,399 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:10:18,400 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:10:18,548 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:10:18,603 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:10:18,784 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@645249b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a938d25, org.springframework.security.web.context.SecurityContextHolderFilter@d00d724, org.springframework.security.web.header.HeaderWriterFilter@7f73e8a3, org.springframework.security.web.authentication.logout.LogoutFilter@2b06795e, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7c8613f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b1fe530, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b492000, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d461911, org.springframework.security.web.session.SessionManagementFilter@7cf4ea48, org.springframework.security.web.access.ExceptionTranslationFilter@5c595a1e, org.springframework.security.web.access.intercept.AuthorizationFilter@7daf5fb1]
2025-02-02 14:10:18,953 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:10:18,967 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:10:18,971 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.435 seconds (process running for 884.83)
2025-02-02 14:10:18,973 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:10:18,975 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:10:18,975 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:10:22,928 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:10:22,928 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:10:22,929 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:10:22,931 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 4c2b29bb-93c3-425c-9cca-e3e23cac3401
2025-02-02 14:10:22,956 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@159a5eb6
2025-02-02 14:10:22,963 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >
2025-02-02 14:10:22,967 ERROR o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.mobily.loyalty.service.model.AuditLog.resource] with root cause
org.hibernate.PropertyValueException: not-null property references a null or transient value : com.mobily.loyalty.service.model.AuditLog.resource
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:109)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:54)
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:124)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:69)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)
	at jdk.proxy12/jdk.proxy12.$Proxy189.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy12/jdk.proxy12.$Proxy189.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:617)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy12/jdk.proxy12.$Proxy191.save(Unknown Source)
	at com.mobily.loyalty.service.services.AuditAspect.logActivity(AuditAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:14:13,857 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:14:13,928 INFO o.a.j.l.DirectJDKLog [Thread-41] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:14:13,928 INFO o.a.j.l.DirectJDKLog [Thread-41] Stopping service [Tomcat]
2025-02-02 14:14:13,929 INFO o.a.j.l.DirectJDKLog [Thread-41] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:14:13,931 WARN o.a.j.l.DirectJDKLog [Thread-41] The web application [ROOT] appears to have started a thread named [lettuce-timer-19-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:14:13,933 INFO o.a.j.l.DirectJDKLog [Thread-41] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:14:13,937 INFO o.a.j.l.DirectJDKLog [Thread-41] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:14:13,938 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-41] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:14:13,939 INFO c.z.h.HikariDataSource [Thread-41] HikariPool-9 - Shutdown initiated...
2025-02-02 14:14:13,951 INFO c.z.h.HikariDataSource [Thread-41] HikariPool-9 - Shutdown completed.
2025-02-02 14:14:14,091 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:14:14,126 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:14:14,126 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:14:14,373 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:14:14,373 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:14:14,384 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:14:14,391 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:14:14,396 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:14:14,396 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:14:14,399 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:14:14,405 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 8 ms. Found 1 Redis repository interfaces.
2025-02-02 14:14:14,636 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:14:14,637 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:14:14,638 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:14:14,638 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:14:14,671 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:14:14,671 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 542 ms
2025-02-02 14:14:14,796 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:14:14,842 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:14:14,849 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:14:14,850 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:14:14,854 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-10 - Starting...
2025-02-02 14:14:14,919 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-10 - Added connection org.postgresql.jdbc.PgConnection@10dae197
2025-02-02 14:14:14,919 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-10 - Start completed.
2025-02-02 14:14:14,935 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:14:14,957 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:14:14,984 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:14:14,998 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:14:14,999 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:14:15,149 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:14:15,196 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:14:15,396 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1675f1ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77228347, org.springframework.security.web.context.SecurityContextHolderFilter@201de3e, org.springframework.security.web.header.HeaderWriterFilter@3dcd7eff, org.springframework.security.web.authentication.logout.LogoutFilter@4f9082b7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@5d3b55c0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c19bf67, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a750c9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@baec983, org.springframework.security.web.session.SessionManagementFilter@25999d34, org.springframework.security.web.access.ExceptionTranslationFilter@29dae78e, org.springframework.security.web.access.intercept.AuthorizationFilter@7c500404]
2025-02-02 14:14:15,544 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:14:15,553 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:14:15,557 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.463 seconds (process running for 1121.417)
2025-02-02 14:14:15,559 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:14:15,559 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:14:15,560 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:14:19,071 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:14:19,071 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:14:19,073 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:14:19,074 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 975ad201-fea7-4ed4-8968-f9a6e4899594
2025-02-02 14:14:19,078 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@49b1147e
2025-02-02 14:14:19,083 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >[Ljava.lang.Object;@336118d9
2025-02-02 14:14:19,090 ERROR o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: not-null property references a null or transient value : com.mobily.loyalty.service.model.AuditLog.resource] with root cause
org.hibernate.PropertyValueException: not-null property references a null or transient value : com.mobily.loyalty.service.model.AuditLog.resource
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:109)
	at org.hibernate.engine.internal.Nullability.checkNullability(Nullability.java:54)
	at org.hibernate.action.internal.AbstractEntityInsertAction.nullifyTransientReferencesIfNotAlready(AbstractEntityInsertAction.java:124)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:69)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:755)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:739)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)
	at jdk.proxy13/jdk.proxy13.$Proxy194.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at jdk.proxy13/jdk.proxy13.$Proxy194.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:617)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244)
	at jdk.proxy13/jdk.proxy13.$Proxy196.save(Unknown Source)
	at com.mobily.loyalty.service.services.AuditAspect.logActivity(AuditAspect.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:15:07,603 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:15:07,630 INFO o.a.j.l.DirectJDKLog [Thread-45] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:07,630 INFO o.a.j.l.DirectJDKLog [Thread-45] Stopping service [Tomcat]
2025-02-02 14:15:07,631 INFO o.a.j.l.DirectJDKLog [Thread-45] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:15:07,634 WARN o.a.j.l.DirectJDKLog [Thread-45] The web application [ROOT] appears to have started a thread named [lettuce-timer-21-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:15:07,638 INFO o.a.j.l.DirectJDKLog [Thread-45] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:07,643 INFO o.a.j.l.DirectJDKLog [Thread-45] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:07,644 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-45] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:15:07,645 INFO c.z.h.HikariDataSource [Thread-45] HikariPool-10 - Shutdown initiated...
2025-02-02 14:15:07,654 INFO c.z.h.HikariDataSource [Thread-45] HikariPool-10 - Shutdown completed.
2025-02-02 14:15:07,783 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:15:07,824 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:15:07,825 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:15:08,048 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:15:08,048 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:15:08,059 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:15:08,065 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:15:08,071 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:15:08,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:15:08,075 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:15:08,079 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 7 ms. Found 1 Redis repository interfaces.
2025-02-02 14:15:08,257 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:15:08,257 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:08,258 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:15:08,258 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:15:08,290 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:15:08,290 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 449 ms
2025-02-02 14:15:08,437 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:15:08,478 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:15:08,487 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:15:08,487 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:15:08,489 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-11 - Starting...
2025-02-02 14:15:08,548 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-11 - Added connection org.postgresql.jdbc.PgConnection@4805f455
2025-02-02 14:15:08,548 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-11 - Start completed.
2025-02-02 14:15:08,567 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:15:08,590 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:15:08,614 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:15:08,628 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:15:08,629 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:15:08,782 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:15:08,823 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:15:08,988 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53b31971, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@577d8838, org.springframework.security.web.context.SecurityContextHolderFilter@1c289fe1, org.springframework.security.web.header.HeaderWriterFilter@1c7b0114, org.springframework.security.web.authentication.logout.LogoutFilter@b677d0c, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@630c9701, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@718af1d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@353d3d53, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@54052fb1, org.springframework.security.web.session.SessionManagementFilter@28c9cf4c, org.springframework.security.web.access.ExceptionTranslationFilter@101fba01, org.springframework.security.web.access.intercept.AuthorizationFilter@71ce56b0]
2025-02-02 14:15:09,133 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:09,138 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:15:09,143 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.354 seconds (process running for 1175.002)
2025-02-02 14:15:09,149 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:15:09,155 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:15:09,158 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:15:24,498 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:15:24,535 INFO o.a.j.l.DirectJDKLog [Thread-49] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:24,535 INFO o.a.j.l.DirectJDKLog [Thread-49] Stopping service [Tomcat]
2025-02-02 14:15:24,541 WARN o.a.j.l.DirectJDKLog [Thread-49] The web application [ROOT] appears to have started a thread named [lettuce-timer-23-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:15:24,544 INFO o.a.j.l.DirectJDKLog [Thread-49] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:24,549 INFO o.a.j.l.DirectJDKLog [Thread-49] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:24,556 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-49] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:15:24,561 INFO c.z.h.HikariDataSource [Thread-49] HikariPool-11 - Shutdown initiated...
2025-02-02 14:15:24,579 INFO c.z.h.HikariDataSource [Thread-49] HikariPool-11 - Shutdown completed.
2025-02-02 14:15:24,974 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:15:25,015 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:15:25,017 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:15:25,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:15:25,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:15:25,245 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:15:25,249 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:15:25,255 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:15:25,255 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:15:25,260 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:15:25,264 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 8 ms. Found 1 Redis repository interfaces.
2025-02-02 14:15:25,399 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:15:25,400 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:25,401 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:15:25,402 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:15:25,431 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:15:25,431 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 405 ms
2025-02-02 14:15:25,563 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:15:25,622 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:15:25,629 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:15:25,629 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:15:25,630 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-12 - Starting...
2025-02-02 14:15:25,708 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-12 - Added connection org.postgresql.jdbc.PgConnection@4555405a
2025-02-02 14:15:25,708 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-12 - Start completed.
2025-02-02 14:15:25,733 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:15:25,768 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:15:25,793 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:15:25,809 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:15:25,810 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:15:25,956 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:15:26,004 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:15:26,175 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@36130268, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31ed3f93, org.springframework.security.web.context.SecurityContextHolderFilter@2a2a2544, org.springframework.security.web.header.HeaderWriterFilter@7df1a272, org.springframework.security.web.authentication.logout.LogoutFilter@73a0cdee, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@43a9684e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fb7f736, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fa53080, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68f48c65, org.springframework.security.web.session.SessionManagementFilter@4b318109, org.springframework.security.web.access.ExceptionTranslationFilter@29f79fe8, org.springframework.security.web.access.intercept.AuthorizationFilter@15e9952e]
2025-02-02 14:15:26,311 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:15:26,314 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:15:26,318 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.34 seconds (process running for 1192.178)
2025-02-02 14:15:26,320 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:15:26,320 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:15:26,321 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:15:30,277 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:15:30,278 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:15:30,281 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 2 ms
2025-02-02 14:15:30,282 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 3827faf8-511b-44a2-a1be-d5b7c9d3a915
2025-02-02 14:15:30,297 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@bc37908
2025-02-02 14:15:30,300 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@bc37908
2025-02-02 14:15:30,308 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service 3827faf8-511b-44a2-a1be-d5b7c9d3a915
2025-02-02 14:15:30,313 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:15:30,315 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:15:30,318 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:15:30,329 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to cbb7d216-473b-4b13-a41c-e6f7c38cd576
2025-02-02 14:15:30,350 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:15:30.318","language":"en"}
2025-02-02 14:15:30,353 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:15:30,355 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"transactionId":"222333","statusCode":"0","pointsLeft":"1000","totalEarnedPoints":"3000","totalRedeemedPoints":"3000","totalLostPoints":"400","totalExpiredPoints":"200","redemptionTransLimit":"2000"}
2025-02-02 14:15:30,362 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:15:30,369 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:16:35,938 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:16:35,955 INFO o.a.j.l.DirectJDKLog [Thread-53] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:16:35,955 INFO o.a.j.l.DirectJDKLog [Thread-53] Stopping service [Tomcat]
2025-02-02 14:16:35,955 INFO o.a.j.l.DirectJDKLog [Thread-53] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:16:35,961 WARN o.a.j.l.DirectJDKLog [Thread-53] The web application [ROOT] appears to have started a thread named [lettuce-timer-25-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:16:35,962 INFO o.a.j.l.DirectJDKLog [Thread-53] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:16:35,965 INFO o.a.j.l.DirectJDKLog [Thread-53] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:16:35,967 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-53] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:16:35,967 INFO c.z.h.HikariDataSource [Thread-53] HikariPool-12 - Shutdown initiated...
2025-02-02 14:16:35,974 INFO c.z.h.HikariDataSource [Thread-53] HikariPool-12 - Shutdown completed.
2025-02-02 14:16:36,053 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:16:36,100 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:16:36,101 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:16:36,352 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:16:36,352 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:16:36,364 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:16:36,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 14 ms. Found 1 JPA repository interfaces.
2025-02-02 14:16:36,371 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:16:36,372 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:16:36,376 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:16:36,391 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 18 ms. Found 1 Redis repository interfaces.
2025-02-02 14:16:36,554 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:16:36,555 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:16:36,555 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:16:36,556 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:16:36,585 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:16:36,585 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 482 ms
2025-02-02 14:16:36,767 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:16:36,811 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:16:36,818 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:16:36,818 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:16:36,819 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-13 - Starting...
2025-02-02 14:16:36,899 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-13 - Added connection org.postgresql.jdbc.PgConnection@67f4ede6
2025-02-02 14:16:36,900 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-13 - Start completed.
2025-02-02 14:16:36,920 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:16:36,957 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:16:36,983 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:16:36,999 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:16:37,000 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:16:37,183 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:16:37,221 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:16:37,413 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@519d5f61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@112ab48d, org.springframework.security.web.context.SecurityContextHolderFilter@50064b1e, org.springframework.security.web.header.HeaderWriterFilter@1500c96b, org.springframework.security.web.authentication.logout.LogoutFilter@1348405, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@742cf94d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fd746e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17a5ae0b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12c00f0c, org.springframework.security.web.session.SessionManagementFilter@35982826, org.springframework.security.web.access.ExceptionTranslationFilter@12f8caea, org.springframework.security.web.access.intercept.AuthorizationFilter@546ae064]
2025-02-02 14:16:37,586 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:16:37,612 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:16:37,617 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.553 seconds (process running for 1263.477)
2025-02-02 14:16:37,618 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:16:37,619 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:16:37,619 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:16:41,130 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:16:41,130 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:16:41,132 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 2 ms
2025-02-02 14:16:41,133 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 07185212-9d1e-410e-b7d0-5cea613c21b5
2025-02-02 14:16:41,138 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@ad18d49
2025-02-02 14:16:41,147 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@ad18d49
2025-02-02 14:16:41,148 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@ad18d49
2025-02-02 14:16:41,148 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:16:41,155 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service 07185212-9d1e-410e-b7d0-5cea613c21b5
2025-02-02 14:16:41,158 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:16:41,180 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:16:41,180 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:16:41,182 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:16:41,185 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:16:41,197 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to 89b45491-3c91-46f8-b98f-54e64ae587f7
2025-02-02 14:16:41,200 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:16:41.185","language":"en"}
2025-02-02 14:16:41,203 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"transactionId":"222333","statusCode":"0","pointsLeft":"1000","totalEarnedPoints":"3000","totalRedeemedPoints":"3000","totalLostPoints":"400","totalExpiredPoints":"200","redemptionTransLimit":"2000"}
2025-02-02 14:16:41,204 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:16:41,233 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"transactionId":"222333","statusCode":"0","pointsLeft":"1000","totalEarnedPoints":"3000","totalRedeemedPoints":"3000","totalLostPoints":"400","totalExpiredPoints":"200","redemptionTransLimit":"2000"}
2025-02-02 14:16:41,233 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-response-journey-schema.json
2025-02-02 14:16:41,235 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:16:41,243 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:17:52,481 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:17:52,670 INFO o.a.j.l.DirectJDKLog [Thread-57] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:17:52,692 INFO o.a.j.l.DirectJDKLog [Thread-57] Stopping service [Tomcat]
2025-02-02 14:17:52,721 INFO o.a.j.l.DirectJDKLog [Thread-57] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:17:52,730 WARN o.a.j.l.DirectJDKLog [Thread-57] The web application [ROOT] appears to have started a thread named [lettuce-timer-27-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:17:52,731 INFO o.a.j.l.DirectJDKLog [Thread-57] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:17:52,733 INFO o.a.j.l.DirectJDKLog [Thread-57] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:17:52,734 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-57] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:17:52,735 INFO c.z.h.HikariDataSource [Thread-57] HikariPool-13 - Shutdown initiated...
2025-02-02 14:17:52,767 INFO c.z.h.HikariDataSource [Thread-57] HikariPool-13 - Shutdown completed.
2025-02-02 14:17:52,874 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:17:52,920 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:17:52,921 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:17:53,136 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:17:53,136 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:17:53,150 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:17:53,156 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 19 ms. Found 1 JPA repository interfaces.
2025-02-02 14:17:53,162 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:17:53,163 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:17:53,169 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:17:53,175 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 11 ms. Found 1 Redis repository interfaces.
2025-02-02 14:17:53,328 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:17:53,328 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:17:53,329 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:17:53,329 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:17:53,366 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:17:53,367 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 443 ms
2025-02-02 14:17:53,522 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:17:53,568 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:17:53,576 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:17:53,577 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:17:53,578 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-14 - Starting...
2025-02-02 14:17:53,644 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-14 - Added connection org.postgresql.jdbc.PgConnection@760775bb
2025-02-02 14:17:53,644 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-14 - Start completed.
2025-02-02 14:17:53,662 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:17:53,686 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:17:53,718 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:17:53,733 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:17:53,734 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:17:53,888 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:17:53,930 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:17:54,092 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20dad21e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f36bce0, org.springframework.security.web.context.SecurityContextHolderFilter@4adfe3a9, org.springframework.security.web.header.HeaderWriterFilter@473d71b4, org.springframework.security.web.authentication.logout.LogoutFilter@6114af90, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6476992f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73a95781, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5fb52891, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c40fdbf, org.springframework.security.web.session.SessionManagementFilter@500b6adb, org.springframework.security.web.access.ExceptionTranslationFilter@621b6a91, org.springframework.security.web.access.intercept.AuthorizationFilter@2ebfa34a]
2025-02-02 14:17:54,290 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:17:54,317 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:17:54,322 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.443 seconds (process running for 1340.182)
2025-02-02 14:17:54,324 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:17:54,324 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:17:54,324 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:18:06,433 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:18:06,433 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:18:06,434 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:18:06,436 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 2ab05929-cf71-4014-bf45-acaf3e82abcc
2025-02-02 14:18:06,443 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@719ed0be
2025-02-02 14:18:06,451 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@719ed0be
2025-02-02 14:18:06,452 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@719ed0be
2025-02-02 14:18:06,452 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:18:06,458 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service 2ab05929-cf71-4014-bf45-acaf3e82abcc
2025-02-02 14:18:06,460 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:18:06,468 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:18:06,468 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:18:06,470 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-request-journey-schema.json
2025-02-02 14:18:06,472 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  DP Service URL is http://localhost:8081/public/loyalty/dp/v1/info
2025-02-02 14:18:06,482 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Request Received withour CORRELATION ID, set to 35398928-c446-4e75-b802-ea1cc9a550e1
2025-02-02 14:18:06,492 INFO c.m.l.s.w.a.LoyaltyInfoDPAPIImpl [http-nio-8081-exec-3]  Request from Orchetration Layer is {"transactionId":"2222222222","sessionId":"","version":"v1","appId":"Iconik_AND","deviceId":"f07a13984f6d1164","msisdn":"966540510521","userName":"test","requestDate":"02-02-2025 14:18:06.472","language":"en"}
2025-02-02 14:18:06,501 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"transactionId":"222333","statusCode":"0","pointsLeft":"1000","totalEarnedPoints":"3000","totalRedeemedPoints":"3000","totalLostPoints":"400","totalExpiredPoints":"200","redemptionTransLimit":"2000"}
2025-02-02 14:18:06,501 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-3]  Returning the response  
2025-02-02 14:18:06,541 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"transactionId":"222333","statusCode":"0","pointsLeft":"1000","totalEarnedPoints":"3000","totalRedeemedPoints":"3000","totalLostPoints":"400","totalExpiredPoints":"200","redemptionTransLimit":"2000"}
2025-02-02 14:18:06,541 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-response-journey-schema.json
2025-02-02 14:18:06,547 INFO c.m.l.s.c.AppConfiguration [http-nio-8081-exec-1] loading validation schema loyalty-inquiry-response-journey-schema.json
2025-02-02 14:18:06,556 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:19:50,802 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:19:50,823 INFO o.a.j.l.DirectJDKLog [Thread-61] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:19:50,824 INFO o.a.j.l.DirectJDKLog [Thread-61] Stopping service [Tomcat]
2025-02-02 14:19:50,824 INFO o.a.j.l.DirectJDKLog [Thread-61] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:19:50,826 WARN o.a.j.l.DirectJDKLog [Thread-61] The web application [ROOT] appears to have started a thread named [lettuce-timer-29-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:19:50,826 INFO o.a.j.l.DirectJDKLog [Thread-61] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:19:50,845 INFO o.a.j.l.DirectJDKLog [Thread-61] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:19:50,846 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-61] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:19:50,846 INFO c.z.h.HikariDataSource [Thread-61] HikariPool-14 - Shutdown initiated...
2025-02-02 14:19:50,855 INFO c.z.h.HikariDataSource [Thread-61] HikariPool-14 - Shutdown completed.
2025-02-02 14:19:51,143 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:19:51,187 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:19:51,188 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:19:51,424 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:19:51,424 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:19:51,436 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:19:51,441 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:19:51,445 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:19:51,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:19:51,452 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:19:51,456 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 9 ms. Found 1 Redis repository interfaces.
2025-02-02 14:19:51,650 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:19:51,651 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:19:51,651 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:19:51,651 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:19:51,683 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:19:51,684 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 493 ms
2025-02-02 14:19:51,881 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:19:51,934 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:19:51,943 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:19:51,943 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:19:51,946 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-15 - Starting...
2025-02-02 14:19:52,024 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-15 - Added connection org.postgresql.jdbc.PgConnection@7dc2cd7e
2025-02-02 14:19:52,024 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-15 - Start completed.
2025-02-02 14:19:52,044 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:19:52,072 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:19:52,099 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:19:52,115 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:19:52,117 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:19:52,305 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:19:52,390 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:19:52,579 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a399094, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49d20d70, org.springframework.security.web.context.SecurityContextHolderFilter@7b02867, org.springframework.security.web.header.HeaderWriterFilter@196119a4, org.springframework.security.web.authentication.logout.LogoutFilter@3e69d248, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ab2ea18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4374c6e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52494b1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e2b5389, org.springframework.security.web.session.SessionManagementFilter@397a78b6, org.springframework.security.web.access.ExceptionTranslationFilter@46b04607, org.springframework.security.web.access.intercept.AuthorizationFilter@4346990a]
2025-02-02 14:19:52,816 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:19:52,819 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:19:52,840 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.691 seconds (process running for 1458.7)
2025-02-02 14:19:52,843 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:19:52,844 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:19:52,844 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:19:59,322 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:19:59,323 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:19:59,324 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:19:59,326 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to c80c38c4-1a7a-48e1-a73b-8a52d2b4a89d
2025-02-02 14:19:59,341 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@6ec95930
2025-02-02 14:19:59,348 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@6ec95930
2025-02-02 14:19:59,349 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@6ec95930
2025-02-02 14:19:59,351 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:19:59,412 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service c80c38c4-1a7a-48e1-a73b-8a52d2b4a89d
2025-02-02 14:19:59,413 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:19:59,414 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:19:59,414 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:19:59,424 ERROR c.m.l.s.s.BaseService [http-nio-8081-exec-1]  Error while requesting for config item 
java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to class com.mobily.loyalty.service.model.LoyaltyInfoRequest (com.fasterxml.jackson.databind.node.ObjectNode is in unnamed module of loader 'app'; com.mobily.loyalty.service.model.LoyaltyInfoRequest is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @47ea19c3)
	at com.mobily.loyalty.service.services.AuditAspect.logActivity(AuditAspect.java:34)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.DataValidationService$$SpringCGLIB$$0.validateJson(<generated>)
	at com.mobily.loyalty.service.services.BaseService.validateRequestData(BaseService.java:67)
	at com.mobily.loyalty.service.services.BaseService.validate(BaseService.java:52)
	at com.mobily.loyalty.service.services.LoyaltyInfoService.getLoyaltyInformation(LoyaltyInfoService.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:19:59,430 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8081-exec-1] Resolved [com.mobily.loyalty.service.exceptions.InternalServerException: ]
2025-02-02 14:19:59,430 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:23:46,845 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:23:46,883 INFO o.a.j.l.DirectJDKLog [Thread-65] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:23:46,901 INFO o.a.j.l.DirectJDKLog [Thread-65] Stopping service [Tomcat]
2025-02-02 14:23:46,901 INFO o.a.j.l.DirectJDKLog [Thread-65] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:23:46,904 WARN o.a.j.l.DirectJDKLog [Thread-65] The web application [ROOT] appears to have started a thread named [lettuce-timer-31-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:23:46,904 INFO o.a.j.l.DirectJDKLog [Thread-65] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:23:46,907 INFO o.a.j.l.DirectJDKLog [Thread-65] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:23:46,910 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-65] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:23:46,911 INFO c.z.h.HikariDataSource [Thread-65] HikariPool-15 - Shutdown initiated...
2025-02-02 14:23:46,923 INFO c.z.h.HikariDataSource [Thread-65] HikariPool-15 - Shutdown completed.
2025-02-02 14:23:47,115 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:23:47,189 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:23:47,189 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:23:47,421 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:23:47,421 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:23:47,433 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:23:47,440 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:23:47,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:23:47,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:23:47,454 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:23:47,458 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 7 ms. Found 1 Redis repository interfaces.
2025-02-02 14:23:47,663 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:23:47,664 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:23:47,666 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:23:47,666 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:23:47,789 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:23:47,789 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 588 ms
2025-02-02 14:23:47,964 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:23:48,027 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:23:48,036 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:23:48,036 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:23:48,037 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-16 - Starting...
2025-02-02 14:23:48,121 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-16 - Added connection org.postgresql.jdbc.PgConnection@500df011
2025-02-02 14:23:48,122 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-16 - Start completed.
2025-02-02 14:23:48,141 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:23:48,172 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:23:48,204 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:23:48,221 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:23:48,222 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:23:48,641 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:23:48,714 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:23:48,952 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@287cf2ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79107ef3, org.springframework.security.web.context.SecurityContextHolderFilter@336bc7c8, org.springframework.security.web.header.HeaderWriterFilter@43cb359e, org.springframework.security.web.authentication.logout.LogoutFilter@74c4c197, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7a664c4c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@386baa4b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22960f1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5aac8959, org.springframework.security.web.session.SessionManagementFilter@9064ae2, org.springframework.security.web.access.ExceptionTranslationFilter@538b001e, org.springframework.security.web.access.intercept.AuthorizationFilter@3640f7f]
2025-02-02 14:23:49,163 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:23:49,188 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:23:49,201 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 2.08 seconds (process running for 1695.06)
2025-02-02 14:23:49,202 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:23:49,203 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:23:49,203 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:23:53,979 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:23:53,981 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:23:53,982 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:23:53,983 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to b4a2b9c0-ac32-432f-9ed1-c0f93cf547b8
2025-02-02 14:23:53,991 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@5240ae33
2025-02-02 14:23:54,001 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@5240ae33
2025-02-02 14:23:54,002 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@5240ae33
2025-02-02 14:23:54,002 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:23:54,007 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@5240ae33
2025-02-02 14:23:54,008 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@5240ae33
2025-02-02 14:23:54,008 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:23:54,011 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service b4a2b9c0-ac32-432f-9ed1-c0f93cf547b8
2025-02-02 14:23:54,014 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:23:54,014 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:23:54,057 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:23:54,058 ERROR c.m.l.s.s.BaseService [http-nio-8081-exec-1]  Error while requesting for config item 
java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to class com.mobily.loyalty.service.model.LoyaltyInfoRequest (com.fasterxml.jackson.databind.node.ObjectNode is in unnamed module of loader 'app'; com.mobily.loyalty.service.model.LoyaltyInfoRequest is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @7656e565)
	at com.mobily.loyalty.service.services.AuditAspect.logAfterActivity(AuditAspect.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.DataValidationService$$SpringCGLIB$$0.validateJson(<generated>)
	at com.mobily.loyalty.service.services.BaseService.validateRequestData(BaseService.java:67)
	at com.mobily.loyalty.service.services.BaseService.validate(BaseService.java:52)
	at com.mobily.loyalty.service.services.LoyaltyInfoService.getLoyaltyInformation(LoyaltyInfoService.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:23:54,070 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8081-exec-1] Resolved [com.mobily.loyalty.service.exceptions.InternalServerException: ]
2025-02-02 14:23:54,070 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:24:53,248 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:24:53,314 INFO o.a.j.l.DirectJDKLog [Thread-69] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:24:53,314 INFO o.a.j.l.DirectJDKLog [Thread-69] Stopping service [Tomcat]
2025-02-02 14:24:53,315 INFO o.a.j.l.DirectJDKLog [Thread-69] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:24:53,321 WARN o.a.j.l.DirectJDKLog [Thread-69] The web application [ROOT] appears to have started a thread named [lettuce-timer-33-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:24:53,322 INFO o.a.j.l.DirectJDKLog [Thread-69] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:24:53,326 INFO o.a.j.l.DirectJDKLog [Thread-69] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:24:53,327 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-69] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:24:53,329 INFO c.z.h.HikariDataSource [Thread-69] HikariPool-16 - Shutdown initiated...
2025-02-02 14:24:53,337 INFO c.z.h.HikariDataSource [Thread-69] HikariPool-16 - Shutdown completed.
2025-02-02 14:24:53,419 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:24:53,462 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:24:53,462 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:24:53,674 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:24:53,674 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:24:53,686 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:24:53,692 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:24:53,698 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:24:53,699 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:24:53,703 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:24:53,707 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 7 ms. Found 1 Redis repository interfaces.
2025-02-02 14:24:53,869 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:24:53,873 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:24:53,874 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:24:53,874 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:24:53,905 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:24:53,905 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 441 ms
2025-02-02 14:24:54,100 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:24:54,148 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:24:54,156 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:24:54,157 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:24:54,158 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-17 - Starting...
2025-02-02 14:24:54,218 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-17 - Added connection org.postgresql.jdbc.PgConnection@573107df
2025-02-02 14:24:54,218 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-17 - Start completed.
2025-02-02 14:24:54,234 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:24:54,247 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:24:54,273 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:24:54,294 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:24:54,297 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:24:54,561 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:24:54,622 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:24:54,883 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@488f658c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a157284, org.springframework.security.web.context.SecurityContextHolderFilter@7a88d891, org.springframework.security.web.header.HeaderWriterFilter@60aa272f, org.springframework.security.web.authentication.logout.LogoutFilter@53a069d6, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@18315185, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cb8abc6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d9a7621, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@c3eba67, org.springframework.security.web.session.SessionManagementFilter@4913616e, org.springframework.security.web.access.ExceptionTranslationFilter@6c135abc, org.springframework.security.web.access.intercept.AuthorizationFilter@74ca48e1]
2025-02-02 14:24:55,073 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:24:55,076 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:24:55,082 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.651 seconds (process running for 1760.942)
2025-02-02 14:24:55,084 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:24:55,084 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:24:55,085 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:25:27,892 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:25:27,972 INFO o.a.j.l.DirectJDKLog [Thread-73] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:25:27,979 INFO o.a.j.l.DirectJDKLog [Thread-73] Stopping service [Tomcat]
2025-02-02 14:25:27,981 WARN o.a.j.l.DirectJDKLog [Thread-73] The web application [ROOT] appears to have started a thread named [lettuce-timer-35-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:25:27,982 INFO o.a.j.l.DirectJDKLog [Thread-73] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:25:28,005 INFO o.a.j.l.DirectJDKLog [Thread-73] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:25:28,006 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-73] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:25:28,006 INFO c.z.h.HikariDataSource [Thread-73] HikariPool-17 - Shutdown initiated...
2025-02-02 14:25:28,062 INFO c.z.h.HikariDataSource [Thread-73] HikariPool-17 - Shutdown completed.
2025-02-02 14:25:28,223 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:25:28,256 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:25:28,256 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:25:28,467 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:25:28,467 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:25:28,478 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:25:28,484 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:25:28,490 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:25:28,490 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:25:28,494 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:25:28,500 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 9 ms. Found 1 Redis repository interfaces.
2025-02-02 14:25:28,688 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:25:28,689 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:25:28,690 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:25:28,690 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:25:28,725 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:25:28,725 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 468 ms
2025-02-02 14:25:28,937 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:25:28,997 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:25:29,004 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:25:29,004 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:25:29,005 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-18 - Starting...
2025-02-02 14:25:29,115 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-18 - Added connection org.postgresql.jdbc.PgConnection@7814d4c8
2025-02-02 14:25:29,116 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-18 - Start completed.
2025-02-02 14:25:29,131 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:25:29,152 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:25:29,179 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:25:29,195 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:25:29,196 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:25:29,444 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:25:29,496 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:25:29,697 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50b85f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5444cddf, org.springframework.security.web.context.SecurityContextHolderFilter@4c3f4f44, org.springframework.security.web.header.HeaderWriterFilter@6139b327, org.springframework.security.web.authentication.logout.LogoutFilter@679b2e48, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@3bdc05a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5000fc03, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c8cddaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4124de78, org.springframework.security.web.session.SessionManagementFilter@3ca22d65, org.springframework.security.web.access.ExceptionTranslationFilter@76ad41c9, org.springframework.security.web.access.intercept.AuthorizationFilter@2a57e453]
2025-02-02 14:25:29,886 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:25:29,895 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:25:29,902 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.674 seconds (process running for 1795.762)
2025-02-02 14:25:29,904 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:25:29,905 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:25:29,905 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:25:35,292 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:25:35,292 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:25:35,293 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:25:35,295 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 15448aea-dfc8-42a8-b0ed-d1f2c9e80019
2025-02-02 14:25:35,307 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@39a65c92
2025-02-02 14:25:35,322 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ===$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@39a65c92
2025-02-02 14:25:35,322 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@39a65c92
2025-02-02 14:25:35,323 ERROR o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class com.mobily.loyalty.service.model.LoyaltyInfoRequest cannot be cast to class com.mobily.loyalty.service.model.MasterResponse (com.mobily.loyalty.service.model.LoyaltyInfoRequest and com.mobily.loyalty.service.model.MasterResponse are in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @5a9aa48b)] with root cause
java.lang.ClassCastException: class com.mobily.loyalty.service.model.LoyaltyInfoRequest cannot be cast to class com.mobily.loyalty.service.model.MasterResponse (com.mobily.loyalty.service.model.LoyaltyInfoRequest and com.mobily.loyalty.service.model.MasterResponse are in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @5a9aa48b)
	at com.mobily.loyalty.service.services.AuditAspect.logAfterActivity(AuditAspect.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:26:45,147 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:26:45,197 INFO o.a.j.l.DirectJDKLog [Thread-77] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:26:45,200 INFO o.a.j.l.DirectJDKLog [Thread-77] Stopping service [Tomcat]
2025-02-02 14:26:45,225 INFO o.a.j.l.DirectJDKLog [Thread-77] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:26:45,227 WARN o.a.j.l.DirectJDKLog [Thread-77] The web application [ROOT] appears to have started a thread named [lettuce-timer-37-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:26:45,227 INFO o.a.j.l.DirectJDKLog [Thread-77] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:26:45,229 INFO o.a.j.l.DirectJDKLog [Thread-77] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:26:45,231 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-77] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:26:45,232 INFO c.z.h.HikariDataSource [Thread-77] HikariPool-18 - Shutdown initiated...
2025-02-02 14:26:45,247 INFO c.z.h.HikariDataSource [Thread-77] HikariPool-18 - Shutdown completed.
2025-02-02 14:26:45,355 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:26:45,396 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:26:45,396 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:26:45,596 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:26:45,596 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:26:45,609 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:26:45,614 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 17 ms. Found 1 JPA repository interfaces.
2025-02-02 14:26:45,619 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:26:45,619 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:26:45,623 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:26:45,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 8 ms. Found 1 Redis repository interfaces.
2025-02-02 14:26:45,779 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:26:45,779 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:26:45,780 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:26:45,780 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:26:45,810 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:26:45,810 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 412 ms
2025-02-02 14:26:45,971 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:26:46,021 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:26:46,028 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:26:46,028 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:26:46,029 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-19 - Starting...
2025-02-02 14:26:46,095 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-19 - Added connection org.postgresql.jdbc.PgConnection@9d49238
2025-02-02 14:26:46,096 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-19 - Start completed.
2025-02-02 14:26:46,119 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:26:46,132 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:26:46,154 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:26:46,171 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:26:46,172 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:26:46,411 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:26:46,482 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:26:46,705 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@124aee88, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f21c78b, org.springframework.security.web.context.SecurityContextHolderFilter@36c372b, org.springframework.security.web.header.HeaderWriterFilter@298c9159, org.springframework.security.web.authentication.logout.LogoutFilter@5adff26f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@37a32e99, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33ecadbe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ea7e4c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50adce97, org.springframework.security.web.session.SessionManagementFilter@68e5dd8c, org.springframework.security.web.access.ExceptionTranslationFilter@21e23a52, org.springframework.security.web.access.intercept.AuthorizationFilter@4dc84979]
2025-02-02 14:26:46,925 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:26:46,928 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:26:46,933 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.565 seconds (process running for 1872.792)
2025-02-02 14:26:46,936 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:26:46,937 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:26:46,937 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:26:52,551 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:26:52,551 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:26:52,555 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:26:52,556 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to 27f2bc66-6fbf-4ac6-869a-c3f5af06ff0c
2025-02-02 14:26:52,564 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@43be9336
2025-02-02 14:26:52,572 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ===$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@43be9336
2025-02-02 14:26:52,572 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@43be9336
2025-02-02 14:26:52,582 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@43be9336
2025-02-02 14:26:52,583 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@43be9336
2025-02-02 14:26:52,583 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:26:52,590 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service 27f2bc66-6fbf-4ac6-869a-c3f5af06ff0c
2025-02-02 14:26:52,593 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ===$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:26:52,624 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:26:52,626 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:26:52,627 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:26:52,627 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:26:52,627 ERROR c.m.l.s.s.BaseService [http-nio-8081-exec-1]  Error while requesting for config item 
java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to class com.mobily.loyalty.service.model.LoyaltyInfoRequest (com.fasterxml.jackson.databind.node.ObjectNode is in unnamed module of loader 'app'; com.mobily.loyalty.service.model.LoyaltyInfoRequest is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @31c62667)
	at com.mobily.loyalty.service.services.AuditAspect.logBeforeActivity(AuditAspect.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.DataValidationService$$SpringCGLIB$$0.validateJson(<generated>)
	at com.mobily.loyalty.service.services.BaseService.validateRequestData(BaseService.java:67)
	at com.mobily.loyalty.service.services.BaseService.validate(BaseService.java:52)
	at com.mobily.loyalty.service.services.LoyaltyInfoService.getLoyaltyInformation(LoyaltyInfoService.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:26:52,632 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8081-exec-1] Resolved [com.mobily.loyalty.service.exceptions.InternalServerException: ]
2025-02-02 14:26:52,632 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:27:35,514 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:27:35,540 INFO o.a.j.l.DirectJDKLog [Thread-81] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:27:35,544 INFO o.a.j.l.DirectJDKLog [Thread-81] Stopping service [Tomcat]
2025-02-02 14:27:35,547 INFO o.a.j.l.DirectJDKLog [Thread-81] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:27:35,554 WARN o.a.j.l.DirectJDKLog [Thread-81] The web application [ROOT] appears to have started a thread named [lettuce-timer-39-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:27:35,559 INFO o.a.j.l.DirectJDKLog [Thread-81] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:27:35,564 INFO o.a.j.l.DirectJDKLog [Thread-81] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:27:35,570 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-81] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:27:35,574 INFO c.z.h.HikariDataSource [Thread-81] HikariPool-19 - Shutdown initiated...
2025-02-02 14:27:35,588 INFO c.z.h.HikariDataSource [Thread-81] HikariPool-19 - Shutdown completed.
2025-02-02 14:27:35,791 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:27:35,835 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:27:35,837 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:27:36,128 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:27:36,128 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:27:36,140 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:27:36,146 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 16 ms. Found 1 JPA repository interfaces.
2025-02-02 14:27:36,150 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:27:36,151 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:27:36,157 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:27:36,160 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 7 ms. Found 1 Redis repository interfaces.
2025-02-02 14:27:36,334 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:27:36,335 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:27:36,337 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:27:36,338 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:27:36,395 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:27:36,396 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 556 ms
2025-02-02 14:27:36,589 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:27:36,636 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:27:36,656 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:27:36,656 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:27:36,658 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-20 - Starting...
2025-02-02 14:27:36,742 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-20 - Added connection org.postgresql.jdbc.PgConnection@474a595d
2025-02-02 14:27:36,743 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-20 - Start completed.
2025-02-02 14:27:36,761 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:27:36,776 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:27:36,801 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:27:36,819 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:27:36,820 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:27:37,055 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:27:37,119 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:27:37,335 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@784fe93c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46e627f8, org.springframework.security.web.context.SecurityContextHolderFilter@54b9c01b, org.springframework.security.web.header.HeaderWriterFilter@8a967d1, org.springframework.security.web.authentication.logout.LogoutFilter@1f7184ea, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@6b0a7663, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62dfea8d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@218b8ee8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ca99e61, org.springframework.security.web.session.SessionManagementFilter@7ceb02c8, org.springframework.security.web.access.ExceptionTranslationFilter@2d136861, org.springframework.security.web.access.intercept.AuthorizationFilter@7f66bc71]
2025-02-02 14:27:37,527 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:27:37,535 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:27:37,540 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.739 seconds (process running for 1923.4)
2025-02-02 14:27:37,542 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:27:37,542 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:27:37,543 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:27:43,513 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:27:43,513 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:27:43,514 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-1] Completed initialization in 1 ms
2025-02-02 14:27:43,515 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Request Received withour CORRELATION ID, set to c1033ff4-abc4-4d26-bb61-85978859efa0
2025-02-02 14:27:43,518 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-1] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@7c706b8a
2025-02-02 14:27:43,527 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@7c706b8a
2025-02-02 14:27:43,527 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@7c706b8a
2025-02-02 14:27:43,527 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:27:43,551 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-1]  About to query for Loyalty Information from Data Power service c1033ff4-abc4-4d26-bb61-85978859efa0
2025-02-02 14:27:43,554 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:27:43,555 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:27:43,555 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:27:43,555 ERROR c.m.l.s.s.BaseService [http-nio-8081-exec-1]  Error while requesting for config item 
java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to class com.mobily.loyalty.service.model.LoyaltyInfoRequest (com.fasterxml.jackson.databind.node.ObjectNode is in unnamed module of loader 'app'; com.mobily.loyalty.service.model.LoyaltyInfoRequest is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @7d196d44)
	at com.mobily.loyalty.service.services.AuditAspect.logBeforeActivity(AuditAspect.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.DataValidationService$$SpringCGLIB$$0.validateJson(<generated>)
	at com.mobily.loyalty.service.services.BaseService.validateRequestData(BaseService.java:67)
	at com.mobily.loyalty.service.services.BaseService.validate(BaseService.java:52)
	at com.mobily.loyalty.service.services.LoyaltyInfoService.getLoyaltyInformation(LoyaltyInfoService.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.aspectj.AspectJAfterAdvice.invoke(AspectJAfterAdvice.java:49)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:27:43,563 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  IN ASPECT J ===$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@7c706b8a
2025-02-02 14:27:43,563 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-1]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@7c706b8a
2025-02-02 14:27:43,568 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8081-exec-1] Resolved [com.mobily.loyalty.service.exceptions.InternalServerException: ]
2025-02-02 14:27:43,569 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-1]  Returning the response  
2025-02-02 14:28:17,049 INFO o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener [File Watcher] Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-02-02 14:28:17,066 INFO o.a.j.l.DirectJDKLog [Thread-85] Pausing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:28:17,067 INFO o.a.j.l.DirectJDKLog [Thread-85] Stopping service [Tomcat]
2025-02-02 14:28:17,067 INFO o.a.j.l.DirectJDKLog [Thread-85] Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-02-02 14:28:17,069 WARN o.a.j.l.DirectJDKLog [Thread-85] The web application [ROOT] appears to have started a thread named [lettuce-timer-41-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/java.lang.Thread.sleep0(Native Method)
 java.base/java.lang.Thread.sleep(Thread.java:465)
 io.netty.util.HashedWheelTimer$Worker.waitForNextTick(HashedWheelTimer.java:600)
 io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:496)
 io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
 java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:28:17,070 INFO o.a.j.l.DirectJDKLog [Thread-85] Stopping ProtocolHandler ["http-nio-8081"]
2025-02-02 14:28:17,075 INFO o.a.j.l.DirectJDKLog [Thread-85] Destroying ProtocolHandler ["http-nio-8081"]
2025-02-02 14:28:17,076 INFO o.s.o.j.AbstractEntityManagerFactoryBean [Thread-85] Closing JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:28:17,077 INFO c.z.h.HikariDataSource [Thread-85] HikariPool-20 - Shutdown initiated...
2025-02-02 14:28:17,088 INFO c.z.h.HikariDataSource [Thread-85] HikariPool-20 - Shutdown completed.
2025-02-02 14:28:17,195 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty service about to start
2025-02-02 14:28:17,222 INFO o.s.b.StartupInfoLogger [restartedMain] Starting LoyaltyServiceApp using Java 19.0.1 with PID 24128 (C:\CogniverseDev\mobily\loyalty-service\target\classes started by dvsnk in C:\CogniverseDev\mobily\loyalty-service)
2025-02-02 14:28:17,223 INFO o.s.b.SpringApplication [restartedMain] No active profile set, falling back to 1 default profile: "default"
2025-02-02 14:28:17,469 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:28:17,469 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-02-02 14:28:17,487 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data JPA - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.UserSessionRepository; If you want this repository to be a JPA repository, consider annotating your entities with one of these annotations: jakarta.persistence.Entity, jakarta.persistence.MappedSuperclass (preferred), or consider extending one of the following types with your repository: org.springframework.data.jpa.repository.JpaRepository
2025-02-02 14:28:17,494 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 24 ms. Found 1 JPA repository interfaces.
2025-02-02 14:28:17,497 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Multiple Spring Data modules found, entering strict repository configuration mode
2025-02-02 14:28:17,498 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-02-02 14:28:17,501 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [restartedMain] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.mobily.loyalty.service.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-02-02 14:28:17,504 INFO o.s.d.r.c.RepositoryConfigurationDelegate [restartedMain] Finished Spring Data repository scanning in 6 ms. Found 1 Redis repository interfaces.
2025-02-02 14:28:17,665 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat initialized with port(s): 8081 (http)
2025-02-02 14:28:17,667 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing ProtocolHandler ["http-nio-8081"]
2025-02-02 14:28:17,667 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting service [Tomcat]
2025-02-02 14:28:17,668 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting Servlet engine: [Apache Tomcat/10.1.11]
2025-02-02 14:28:17,700 INFO o.a.j.l.DirectJDKLog [restartedMain] Initializing Spring embedded WebApplicationContext
2025-02-02 14:28:17,700 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [restartedMain] Root WebApplicationContext: initialization completed in 474 ms
2025-02-02 14:28:17,828 INFO o.s.b.d.a.OptionalLiveReloadServer [restartedMain] LiveReload server is running on port 35729
2025-02-02 14:28:17,888 INFO o.h.j.i.u.LogHelper [restartedMain] HHH000204: Processing PersistenceUnitInfo [name: default]
2025-02-02 14:28:17,899 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:28:17,903 INFO o.s.o.j.p.SpringPersistenceUnitInfo [restartedMain] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-02-02 14:28:17,910 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-21 - Starting...
2025-02-02 14:28:17,995 INFO c.z.h.p.HikariPool [restartedMain] HikariPool-21 - Added connection org.postgresql.jdbc.PgConnection@1cde7ea3
2025-02-02 14:28:17,996 INFO c.z.h.HikariDataSource [restartedMain] HikariPool-21 - Start completed.
2025-02-02 14:28:18,013 INFO o.h.b.i.BytecodeProviderInitiator [restartedMain] HHH000021: Bytecode provider name : bytebuddy
2025-02-02 14:28:18,025 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [restartedMain] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-02-02 14:28:18,051 INFO o.s.o.j.AbstractEntityManagerFactoryBean [restartedMain] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-02-02 14:28:18,065 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security
2025-02-02 14:28:18,066 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Successfully Set Security Configuration, Global Security
2025-02-02 14:28:18,245 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [restartedMain] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-02-02 14:28:18,314 INFO c.m.l.s.c.GlobalSecurityConfiguration [restartedMain] Setting Security Configuration, Global Security 
2025-02-02 14:28:18,520 INFO o.s.s.w.DefaultSecurityFilterChain [restartedMain] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68e490f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b412a09, org.springframework.security.web.context.SecurityContextHolderFilter@25121c95, org.springframework.security.web.header.HeaderWriterFilter@1225fa62, org.springframework.security.web.authentication.logout.LogoutFilter@22997471, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1b74649, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5d0fcd71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6044ca58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e91e92b, org.springframework.security.web.session.SessionManagementFilter@47361be0, org.springframework.security.web.access.ExceptionTranslationFilter@4ce68076, org.springframework.security.web.access.intercept.AuthorizationFilter@470e5d6f]
2025-02-02 14:28:18,653 INFO o.a.j.l.DirectJDKLog [restartedMain] Starting ProtocolHandler ["http-nio-8081"]
2025-02-02 14:28:18,666 INFO o.s.b.w.e.t.TomcatWebServer [restartedMain] Tomcat started on port(s): 8081 (http) with context path ''
2025-02-02 14:28:18,670 INFO o.s.b.StartupInfoLogger [restartedMain] Started LoyaltyServiceApp in 1.471 seconds (process running for 1964.53)
2025-02-02 14:28:18,673 INFO o.s.b.d.a.ConditionEvaluationDeltaLoggingListener [restartedMain] Condition evaluation unchanged
2025-02-02 14:28:18,674 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:28:18,674 INFO c.m.l.s.LoyaltyServiceApp [restartedMain]  Loyalty services started successfully
2025-02-02 14:28:22,813 INFO o.a.j.l.DirectJDKLog [http-nio-8081-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-02-02 14:28:22,813 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Initializing Servlet 'dispatcherServlet'
2025-02-02 14:28:22,814 INFO o.s.w.s.FrameworkServlet [http-nio-8081-exec-2] Completed initialization in 1 ms
2025-02-02 14:28:22,816 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Request Received withour CORRELATION ID, set to 46e015d8-73ae-4fcb-99c4-fa22959a02cc
2025-02-02 14:28:22,820 INFO c.m.l.s.w.a.LoyaltyInfoAPIImpl [http-nio-8081-exec-2] About to query for Loyalty Information Public Servicecom.mobily.loyalty.service.model.LoyaltyInfoRequest@8a08285
2025-02-02 14:28:22,829 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  IN ASPECT J ==========================================================================================  >com.mobily.loyalty.service.model.LoyaltyInfoRequest@8a08285
2025-02-02 14:28:22,830 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  OBJECT ONE IS com.mobily.loyalty.service.model.LoyaltyInfoRequest@8a08285
2025-02-02 14:28:22,830 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  OBJECT ONE IS <<<<< >>>>>>>>>> {x-transaction-id=WEB-1232233434, x-source-channel=WEB, cem-key=123456789012341234122141, x-correlation-id=2222222222}
2025-02-02 14:28:22,835 INFO c.m.l.s.s.LoyaltyInfoService [http-nio-8081-exec-2]  About to query for Loyalty Information from Data Power service 46e015d8-73ae-4fcb-99c4-fa22959a02cc
2025-02-02 14:28:22,837 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  IN ASPECT J ==========================================================================================  >{"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:28:22,838 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  OBJECT ONE IS {"version":"v1","journey":"LOYALTY","operation":"LOYALTY_SIMPLE_INQUIRY","language":"en","extraInfo":[{"key":"ACCOUNT_NUMBER","value":"966540510521"},{"key":"ACCOUNT_TYPE","value":"MSISDN"}]}
2025-02-02 14:28:22,838 INFO c.m.l.s.s.AuditAspect [http-nio-8081-exec-2]  OBJECT ONE IS <<<<< >>>>>>>>>> loyalty-inquiry-request-journey-schema.json
2025-02-02 14:28:22,838 ERROR c.m.l.s.s.BaseService [http-nio-8081-exec-2]  Error while requesting for config item 
java.lang.ClassCastException: class com.fasterxml.jackson.databind.node.ObjectNode cannot be cast to class com.mobily.loyalty.service.model.LoyaltyInfoRequest (com.fasterxml.jackson.databind.node.ObjectNode is in unnamed module of loader 'app'; com.mobily.loyalty.service.model.LoyaltyInfoRequest is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @28a7fdba)
	at com.mobily.loyalty.service.services.AuditAspect.logBeforeActivity(AuditAspect.java:35)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:620)
	at org.springframework.aop.aspectj.AspectJMethodBeforeAdvice.before(AspectJMethodBeforeAdvice.java:44)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:57)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.DataValidationService$$SpringCGLIB$$0.validateJson(<generated>)
	at com.mobily.loyalty.service.services.BaseService.validateRequestData(BaseService.java:67)
	at com.mobily.loyalty.service.services.BaseService.validate(BaseService.java:52)
	at com.mobily.loyalty.service.services.LoyaltyInfoService.getLoyaltyInformation(LoyaltyInfoService.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.adapter.MethodBeforeAdviceInterceptor.invoke(MethodBeforeAdviceInterceptor.java:58)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.mobily.loyalty.service.services.LoyaltyInfoService$$SpringCGLIB$$0.getLoyaltyInformation(<generated>)
	at com.mobily.loyalty.service.web.api.LoyaltyInfoAPIImpl.getLoyaltyInfoPub(LoyaltyInfoAPIImpl.java:88)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at com.mobily.loyalty.service.configs.CustomFilter.doFilter(CustomFilter.java:89)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:128)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:1589)
2025-02-02 14:28:22,850 WARN o.s.w.s.h.AbstractHandlerExceptionResolver [http-nio-8081-exec-2] Resolved [com.mobily.loyalty.service.exceptions.InternalServerException: ]
2025-02-02 14:28:22,850 INFO c.m.l.s.c.CustomFilter [http-nio-8081-exec-2]  Returning the response  
